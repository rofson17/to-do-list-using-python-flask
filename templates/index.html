{% extends 'layout.html' %}
{% block body %}


{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category,message in messages %}
<div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
  {{ message }}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
{% endif %}
{% endwith %}


<h1 class="text-center text-primary my-5">Make Your Own To-Do List</h1>

<section class="container">
  <form action="" method="post"  action="/">
    <div class="mb-3">
      <input type="text" class="form-control" name="tittle" placeholder="Tittle">
    </div>
    <div class="mb-3">
      <textarea placeholder="Note" class="form-control" name="note" rows="7"></textarea>
    </div>
    <div class="d-grid gap-2 col-4 mx-auto my-3">
      <button class="btn btn-primary" type="submit" id="submit">Note it</button>
    </div>
  </form>
</section>
{% if card %}

<section class="container-fluid mt-5 row bg-light p-5">
  <h3 class="my-4 text-center">List</h3>
  {%endif%}
  {% for cards in card %}
  <div class="col-sm-6 gy-4">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">{{cards.tittle}}</h5>
        <p class="card-text text-info">{{cards.cur_date}}</p>
        <p class="card-text">{{cards.Note}}</p>
        <a href="/delete/{{cards.id}}" class="btn btn-danger" id="del">Delete</a>
        <a href="/edit/{{cards.id}}" class="btn btn-warning">Edit</a>
      </div>
    </div>
  </div>
  </div>
  {% endfor %}
  {% if card %}
</section>
{% endif %}

{% endblock %}